<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
    <title>Pulseras Diamantadas - K'latee Joyería | Oro 18K con Diamantes</title>
    <meta name="description" content="Descubre nuestra exclusiva colección de pulseras diamantadas de oro 18K. Diseños únicos con diamantes naturales. Envío gratis en Colombia.">
  </head>

<body>
    <!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
            <div class="container">
            <a class="navbar-brand" href="index.html">
                <img src="marquita.png" width="120" height="60" alt="K'latee Logo" />
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#opciones" aria-controls="opciones" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
     <div class="collapse navbar-collapse" id="opciones">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="index.html">
                            <i class="bi bi-house"></i> Inicio
                        </a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="pulserasDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="bi bi-gem"></i> Pulseras
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="pulserasDropdown">
                            <li><a class="dropdown-item" href="lisas.html"><i class="bi bi-gem"></i> Lisas</a></li>
                            <li><a class="dropdown-item" href="diamantadas.html"><i class="bi bi-star"></i> Diamantadas</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="anillos.html">
                            <i class="bi bi-circle"></i> Anillos
                        </a>
                    </li>

                          <li class="nav-item">
                        <a class="nav-link" href="accesorios.html">
                            <i class="bi bi-circle"></i> Acesorios
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contacto">
                            <i class="bi bi-envelope"></i> Contacto
                        </a>
                    </li>
                </ul>
                
                <div class="d-flex align-items-center">
                    <div class="cart-icon me-3">
                        <a href="#" id="cart-button" class="nav-link">
                            <i class="bi bi-cart3"></i> 
                            <span class="cart-count" id="cart-count">0</span>
                        </a>
                    </div>
                    
                    <label for="theme" class="theme">
                        <span class="theme__toggle-wrap">
                            <input id="theme" class="theme__toggle" type="checkbox" role="switch" name="theme" value="dark">
                            <span class="theme__fill"></span>
                            <span class="theme__icon">
                                <span class="theme__icon-part"></span>
                            </span>
                        </span>
                    </label>
                </div>
            </div>
        </div>
    </nav>

    <!-- Banner -->
    <div class="barra">
        <div class="mensaje">
            <i class="bi bi-truck"></i> Envío gratis en toda Colombia
        </div>
        <div class="mensaje">
            <i class="bi bi-shield-check"></i> Garantía de calidad 100%
        </div>
        <div class="mensaje">
            <i class="bi bi-credit-card"></i> Pago seguro y en cuotas
        </div>
        <div class="mensaje">
            <i class="bi bi-award"></i> Oro 18K certificado
        </div>
        <div class="mensaje">
            <i class="bi bi-gem"></i> Diseños únicos y personalizados
        </div>
        <div class="mensaje">
            <i class="bi bi-star"></i> Calidad premium garantizada
        </div>
        <div class="mensaje">
            <i class="bi bi-heart"></i> Atención personalizada
        </div>
        <div class="mensaje">
            <i class="bi bi-clock"></i> Entrega rápida y segura
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero-section" style="background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(255, 215, 0, 0.1) 100%), url('fondo10.jpg') center/cover; min-height: 60vh; display: flex; align-items: center; margin-top: 80px;">
        <div class="container text-center">
            <h1 class="titulo">Pulseras Diamantadas</h1>
            <p class="lead mb-4" style="font-size: 1.25rem; color: var(--text-dark); font-weight: 500;">
                Brillantez y sofisticación en oro 18K • Diamantes naturales • Diseños únicos
            </p>
        </div>
    </section>

    <!-- Filters Section -->
    <section class="py-4" style="background: var(--bg-light);">
    <div class="container">
            <div class="filter-section">
                <div class="row g-3">
                    <div class="col-md-4">
                        <label class="filter-label">Buscar</label>
                        <input type="text" id="searchInput" class="filter-input" placeholder="Buscar pulseras...">
                    </div>
                    <div class="col-md-3">
                        <label class="filter-label">Ordenar por</label>
                        <select id="sortSelect" class="filter-select">
                            <option value="">Más relevantes</option>
                            <option value="price-low">Precio: Menor a Mayor</option>
                            <option value="price-high">Precio: Mayor a Menor</option>
                            <option value="name">Nombre A-Z</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label class="filter-label">Rango de precio</label>
                        <select id="priceFilter" class="filter-select">
                            <option value="">Todos los precios</option>
                            <option value="0-1000000">Hasta $1,000,000</option>
                            <option value="1000000-2000000">$1,000,000 - $2,000,000</option>
                            <option value="2000000-3000000">$2,000,000 - $3,000,000</option>
                            <option value="3000000-999999999">Más de $3,000,000</option>
                        </select>
                    </div>
                    <div class="col-md-2">
                        <label class="filter-label">&nbsp;</label>
                        <button class="btn btn-light w-100" onclick="clearFilters()">
                            <i class="bi bi-arrow-clockwise"></i> Limpiar
                        </button>
                    </div>
                                </div>
                                </div>
                            </div>
    </section>

    <!-- Products Section -->
    <section class="py-5">
        <div class="container">
            <div class="product-grid" id="productGrid">
                <!-- Producto 1 -->
                <div class="product-card" data-category="diamantada" data-price="1800000">
                    <div class="price-badge">$1,800,000</div>
                    <img src="diamantada1.jpg" alt="Pulsera Diamantada 1" class="product-image">
                    <div class="product-info">
                        <h3 class="product-title">Pulsera Diamantada Clásica</h3>
                        <p class="product-price">$1,800,000</p>
                        <p class="product-description">Pulsera diamantada de oro 18K con diamantes naturales. Diseño clásico y elegante que captura la luz perfectamente.</p>
                        <div class="product-features mb-3">
                            <span class="badge bg-warning text-dark me-2">Oro 18K</span>
                            <span class="badge bg-info text-dark me-2">Diamantes Naturales</span>
                            <span class="badge bg-success text-dark">Certificado</span>
                        </div>
                        <div class="d-grid gap-2">
                            <button class="btn btn-light" onclick="addProductToCart('Pulsera Diamantada Clásica', 1800000, 'diamantada1.jpg', 'diamantada1')">
                                <i class="bi bi-cart-plus"></i> Agregar al Carrito
                            </button>
                            <button class="btn btn-outline-secondary" onclick="showProductDetails('diamantada1')">
                                <i class="bi bi-eye"></i> Ver Detalles
                            </button>
                                </div>
                                </div>
                            </div>

                <!-- Producto 2 -->
                <div class="product-card" data-category="diamantada" data-price="2500000">
                    <div class="price-badge">$2,500,000</div>
                    <img src="diamantada2.jpg" alt="Pulsera Diamantada 2" class="product-image">
                    <div class="product-info">
                        <h3 class="product-title">Pulsera Diamantada Elegante</h3>
                        <p class="product-price">$2,500,000</p>
                        <p class="product-description">Pulsera diamantada con diseño refinado y diamantes de alta calidad. Ideal para ocasiones especiales.</p>
                        <div class="product-features mb-3">
                            <span class="badge bg-warning text-dark me-2">Oro 18K</span>
                            <span class="badge bg-info text-dark me-2">Diamantes Naturales</span>
                            <span class="badge bg-success text-dark">Certificado</span>
                        </div>
                        <div class="d-grid gap-2">
                            <button class="btn btn-light" onclick="addProductToCart('Pulsera Diamantada Elegante', 2500000, 'diamantada2.jpg', 'diamantada2')">
                                <i class="bi bi-cart-plus"></i> Agregar al Carrito
                            </button>
                            <button class="btn btn-outline-secondary" onclick="showProductDetails('diamantada2')">
                                <i class="bi bi-eye"></i> Ver Detalles
                            </button>
                                </div>
                                </div>
                            </div>

                <!-- Producto 3 -->
                <div class="product-card" data-category="diamantada" data-price="3200000">
                    <div class="price-badge">$3,200,000</div>
                    <img src="diamantada3.jpg" alt="Pulsera Diamantada 3" class="product-image">
                    <div class="product-info">
                        <h3 class="product-title">Pulsera Diamantada Premium</h3>
                        <p class="product-price">$3,200,000</p>
                        <p class="product-description">Pulsera diamantada premium con diamantes de excepcional calidad. La máxima expresión de lujo y elegancia.</p>
                        <div class="product-features mb-3">
                            <span class="badge bg-warning text-dark me-2">Oro 18K</span>
                            <span class="badge bg-info text-dark me-2">Diamantes Naturales</span>
                            <span class="badge bg-success text-dark">Certificado</span>
                        </div>
                        <div class="d-grid gap-2">
                            <button class="btn btn-light" onclick="addProductToCart('Pulsera Diamantada Premium', 3200000, 'diamantada3.jpg', 'diamantada3')">
                                <i class="bi bi-cart-plus"></i> Agregar al Carrito
                            </button>
                            <button class="btn btn-outline-secondary" onclick="showProductDetails('diamantada3')">
                                <i class="bi bi-eye"></i> Ver Detalles
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Producto 4 -->
                <div class="product-card" data-category="diamantada" data-price="2800000">
                    <div class="price-badge">$2,800,000</div>
                    <img src="diamantada4.jpg" alt="Pulsera Diamantada 4" class="product-image">
                    <div class="product-info">
                        <h3 class="product-title">Pulsera Diamantada Moderna</h3>
                        <p class="product-price">$2,800,000</p>
                        <p class="product-description">Pulsera diamantada con diseño contemporáneo y diamantes brillantes. Perfecta para looks modernos y sofisticados.</p>
                        <div class="product-features mb-3">
                            <span class="badge bg-warning text-dark me-2">Oro 18K</span>
                            <span class="badge bg-info text-dark me-2">Diamantes Naturales</span>
                            <span class="badge bg-success text-dark">Certificado</span>
                                </div>
                        <div class="d-grid gap-2">
                            <button class="btn btn-light" onclick="addProductToCart('Pulsera Diamantada Moderna', 2800000, 'diamantada4.jpg', 'diamantada4')">
                                <i class="bi bi-cart-plus"></i> Agregar al Carrito
                            </button>
                            <button class="btn btn-outline-secondary" onclick="showProductDetails('diamantada4')">
                                <i class="bi bi-eye"></i> Ver Detalles
                            </button>
                                </div>
                            </div>
                        </div>

                <!-- Producto 5 -->
                <div class="product-card" data-category="diamantada" data-price="3500000">
                    <div class="price-badge">$3,500,000</div>
                    <img src="diamantada5.jpg" alt="Pulsera Diamantada 5" class="product-image">
                    <div class="product-info">
                        <h3 class="product-title">Pulsera Diamantada Exclusiva</h3>
                        <p class="product-price">$3,500,000</p>
                        <p class="product-description">Pulsera diamantada exclusiva con diamantes de la más alta calidad. Una pieza única que refleja tu estilo personal.</p>
                        <div class="product-features mb-3">
                            <span class="badge bg-warning text-dark me-2">Oro 18K</span>
                            <span class="badge bg-info text-dark me-2">Diamantes Naturales</span>
                            <span class="badge bg-success text-dark">Certificado</span>
                                </div>
                        <div class="d-grid gap-2">
                            <button class="btn btn-light" onclick="addProductToCart('Pulsera Diamantada Exclusiva', 3500000, 'diamantada5.jpg', 'diamantada5')">
                                <i class="bi bi-cart-plus"></i> Agregar al Carrito
                            </button>
                            <button class="btn btn-outline-secondary" onclick="showProductDetails('diamantada5')">
                                <i class="bi bi-eye"></i> Ver Detalles
                            </button>
                                </div>
                            </div>
                        </div>

                <!-- Producto 6 -->
                <div class="product-card" data-category="diamantada" data-price="4200000">
                    <div class="price-badge">$4,200,000</div>
                    <img src="diamantada6.jpg" alt="Pulsera Diamantada 6" class="product-image">
                    <div class="product-info">
                        <h3 class="product-title">Pulsera Diamantada Royal</h3>
                        <p class="product-price">$4,200,000</p>
                        <p class="product-description">Pulsera diamantada royal con diamantes excepcionales y diseño majestuoso. La máxima expresión de lujo y elegancia.</p>
                        <div class="product-features mb-3">
                            <span class="badge bg-warning text-dark me-2">Oro 18K</span>
                            <span class="badge bg-info text-dark me-2">Diamantes Naturales</span>
                            <span class="badge bg-success text-dark">Certificado</span>
                                </div>
                        <div class="d-grid gap-2">
                            <button class="btn btn-light" onclick="addProductToCart('Pulsera Diamantada Royal', 4200000, 'diamantada6.jpg', 'diamantada6')">
                                <i class="bi bi-cart-plus"></i> Agregar al Carrito
                            </button>
                            <button class="btn btn-outline-secondary" onclick="showProductDetails('diamantada6')">
                                <i class="bi bi-eye"></i> Ver Detalles
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Product Details Modal -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeProductModal()">&times;</span>
            <div id="productModalContent">
                <!-- Content will be loaded here -->
            </div>
        </div>
    </div>
        
    <!-- Cart Modal -->
    <div id="cartModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3><i class="bi bi-cart3"></i> Tu Carrito</h3>
            <div id="cartItems"></div>
            <div class="cart-total">
                <h4>Total: <span id="cartTotal">$0</span></h4>
            </div>
            <button class="btn btn-success w-100" onclick="checkout()">
                <i class="bi bi-credit-card"></i> Proceder al Pago
            </button>
            <button class="btn btn-success w-100 mt-2" id="whatsapp-cart">
                <i class="bi bi-whatsapp"></i> Enviar pedido por WhatsApp (texto)
            </button>
            <button class="btn btn-warning w-100 mt-2" id="pdf-cart">
                <i class="bi bi-file-earmark-pdf"></i> Descargar pedido como PDF
            </button>
            <button class="btn btn-info w-100 mt-2" id="img-cart">
                <i class="bi bi-image"></i> Descargar pedido como Imagen
            </button>
            <div class="mt-3 p-2 border rounded bg-light">
                <strong>¿Cómo enviar tu pedido?</strong>
                <ul class="mb-1">
                    <li>Puedes enviar tu pedido como <b>texto</b> (botón verde), <b>PDF</b> (botón amarillo) o <b>imagen</b> (botón azul).</li>
                    <li>Envía cualquiera de estos archivos al WhatsApp <b>+57 3024062449</b>.</li>
                    <li>Si descargas PDF o imagen, abre WhatsApp y adjunta el archivo en el chat.</li>
                </ul>
                <span class="text-muted" style="font-size:0.95em">Este número es el canal oficial para pedidos K'latee.</span>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
          <div class="footer-content">
              <div class="footer-section about">
                    <h2>Sobre K'latee</h2>
                    <p>Somos una joyería especializada en oro 18K, comprometida con la excelencia y la satisfacción del cliente. Cada pieza es creada con pasión y dedicación.</p>
                  <ul class="socials">
                        <li><a href="https://wa.me/573024062449" target="_blank"><i class="bi bi-whatsapp"></i></a></li>
                        <li><a href="tel:+573024062449"><i class="bi bi-telephone"></i></a></li>
                        <li><a href="https://www.instagram.com/kilateee_?igsh=MTkzOXRkd2tlMHgxZg==" target="_blank"><i class="bi bi-instagram"></i></a></li>
                  </ul>
              </div>
                
              <div class="footer-section links">
                    <h2>Enlaces Rápidos</h2>
                    <ul>
                        <li><a href="lisas.html">Pulseras Lisas</a></li>
                        <li><a href="diamantadas.html">Pulseras Diamantadas</a></li>
                        <li><a href="index.html#contacto">Contacto</a></li>
                        <li><a href="index.html#categorias">Colecciones</a></li>
                  </ul>
              </div>
              

            
          <div class="footer-bottom">
                <p>&copy; 2024 K'latee - Joyería de Oro 18K. Todos los derechos reservados.</p>
          </div>
      </div>
  </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="carrito.js"></script>
    <script>
        // Theme Toggle
        const themeToggle = document.getElementById('theme');
        
        function toggleTheme() {
            if (themeToggle.checked) {
                document.body.classList.remove('light');
                document.body.classList.add('dark');
            } else {
                document.body.classList.remove('dark');
                document.body.classList.add('light');
            }
        }

        themeToggle.addEventListener('change', toggleTheme);

        if (localStorage.getItem('theme') === 'dark') {
            themeToggle.checked = true;
            document.body.classList.add('dark');
        } else {
            document.body.classList.add('light');
        }

        themeToggle.addEventListener('change', () => {
            localStorage.setItem('theme', themeToggle.checked ? 'dark' : 'light');
        });

        // Product Details Modal
        function showProductDetails(productId) {
            const modal = document.getElementById('productModal');
            const content = document.getElementById('productModalContent');
            
            // Product data (in a real app, this would come from a database)
            const products = {
                diamantada1: {
                    name: 'Pulsera Diamantada Clásica',
                    price: 1800000,
                    image: 'diamantada1.jpg',
                    description: 'Pulsera diamantada de oro 18K con diamantes naturales. Diseño clásico y elegante que captura la luz perfectamente.',
                    features: ['Oro 18K', 'Diamantes Naturales', 'Certificado GIA'],
                    specifications: {
                        'Material': 'Oro 18K',
                        'Diamantes': 'Naturales',
                        'Peso': '12.5g',
                        'Medida': '18cm',
                        'Certificación': 'GIA'
                    }
                },
                diamantada2: {
                    name: 'Pulsera Diamantada Elegante',
                    price: 2500000,
                    image: 'diamantada2.jpg',
                    description: 'Pulsera diamantada con diseño refinado y diamantes de alta calidad. Ideal para ocasiones especiales.',
                    features: ['Oro 18K', 'Diamantes Naturales', 'Certificado GIA'],
                    specifications: {
                        'Material': 'Oro 18K',
                        'Diamantes': 'Naturales',
                        'Peso': '15.2g',
                        'Medida': '18cm',
                        'Certificación': 'GIA'
                    }
                },
                diamantada3: {
                    name: 'Pulsera Diamantada Premium',
                    price: 3200000,
                    image: 'diamantada3.jpg',
                    description: 'Pulsera diamantada premium con diamantes de excepcional calidad. La máxima expresión de lujo y elegancia.',
                    features: ['Oro 18K', 'Diamantes Naturales', 'Certificado GIA'],
                    specifications: {
                        'Material': 'Oro 18K',
                        'Diamantes': 'Naturales',
                        'Peso': '18.8g',
                        'Medida': '18cm',
                        'Certificación': 'GIA'
                    }
                },
                diamantada4: {
                    name: 'Pulsera Diamantada Moderna',
                    price: 2800000,
                    image: 'diamantada4.jpg',
                    description: 'Pulsera diamantada con diseño contemporáneo y diamantes brillantes. Perfecta para looks modernos y sofisticados.',
                    features: ['Oro 18K', 'Diamantes Naturales', 'Certificado GIA'],
                    specifications: {
                        'Material': 'Oro 18K',
                        'Diamantes': 'Naturales',
                        'Peso': '16.5g',
                        'Medida': '18cm',
                        'Certificación': 'GIA'
                    }
                },
                diamantada5: {
                    name: 'Pulsera Diamantada Exclusiva',
                    price: 3500000,
                    image: 'diamantada5.jpg',
                    description: 'Pulsera diamantada exclusiva con diamantes de la más alta calidad. Una pieza única que refleja tu estilo personal.',
                    features: ['Oro 18K', 'Diamantes Naturales', 'Certificado GIA'],
                    specifications: {
                        'Material': 'Oro 18K',
                        'Diamantes': 'Naturales',
                        'Peso': '20.2g',
                        'Medida': '18cm',
                        'Certificación': 'GIA'
                    }
                },
                diamantada6: {
                    name: 'Pulsera Diamantada Royal',
                    price: 4200000,
                    image: 'diamantada6.jpg',
                    description: 'Pulsera diamantada royal con diamantes excepcionales y diseño majestuoso. La máxima expresión de lujo y elegancia.',
                    features: ['Oro 18K', 'Diamantes Naturales', 'Certificado GIA'],
                    specifications: {
                        'Material': 'Oro 18K',
                        'Diamantes': 'Naturales',
                        'Peso': '25.5g',
                        'Medida': '18cm',
                        'Certificación': 'GIA'
                    }
                }
            };
            
            const product = products[productId];
            if (product) {
                content.innerHTML = `
                    <div class="row">
                        <div class="col-md-6">
                            <img src="${product.image}" alt="${product.name}" class="img-fluid rounded" style="max-height: 400px; object-fit: cover;">
                        </div>
                        <div class="col-md-6">
                            <h3>${product.name}</h3>
                            <h4 class="text-warning">$${product.price.toLocaleString()}</h4>
                            <p>${product.description}</p>
                            
                            <div class="mb-3">
                                <h5>Características:</h5>
                                ${product.features.map(feature => `<span class="badge bg-warning text-dark me-2">${feature}</span>`).join('')}
                            </div>
                            
                            <div class="mb-3">
                                <h5>Especificaciones:</h5>
                                <ul class="list-unstyled">
                                    ${Object.entries(product.specifications).map(([key, value]) => `<li><strong>${key}:</strong> ${value}</li>`).join('')}
                                </ul>
                            </div>
                            
                            <button class="btn btn-light w-100" onclick="addProductToCart('${product.name}', ${product.price}, '${product.image}', '${productId}')">
                                <i class="bi bi-cart-plus"></i> Agregar al Carrito
                            </button>
                        </div>
                    </div>
                `;
                modal.style.display = 'block';
            }
        }

        function closeProductModal() {
            document.getElementById('productModal').style.display = 'none';
        }

        // Clear filters
        function clearFilters() {
            document.getElementById('searchInput').value = '';
            document.getElementById('sortSelect').value = '';
            document.getElementById('searchInput').value = '';
            document.getElementById('sortSelect').selectedIndex = 0;
            document.getElementById('priceFilter').selectedIndex = 0;
            if(document.getElementById('typeFilter')) document.getElementById('typeFilter').selectedIndex = 0;
            // Si hay más filtros, reiniciarlos aquí
            
            // Show all products
            const products = document.querySelectorAll('.product-card');
            products.forEach(product => {
                product.style.display = 'block';
            });
        }

        // Cart Modal
        const cartModal = document.getElementById('cartModal');
        const cartButton = document.getElementById('cart-button');
        const closeBtn = document.querySelector('.close');

        cartButton.onclick = function(e) {
            e.preventDefault();
            cartModal.style.display = "block";
        }

        closeBtn.onclick = function() {
            cartModal.style.display = "none";
        }

        window.onclick = function(event) {
            if (event.target == cartModal) {
                cartModal.style.display = "none";
            }
            if (event.target == document.getElementById('productModal')) {
                document.getElementById('productModal').style.display = "none";
            }
        }

        // Newsletter Form
        document.getElementById('newsletter-form').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('¡Gracias por suscribirte a nuestro newsletter!');
            this.reset();
        });

        // Simple image loading fix
        document.addEventListener('DOMContentLoaded', function() {
            const images = document.querySelectorAll('img');
            images.forEach(img => {
                img.style.opacity = '1';
                img.style.visibility = 'visible';
                img.style.display = 'block';
            });
            
            // Ensure text visibility
            const texts = document.querySelectorAll('.titulo, .lead, .hero-buttons, .section-title, .section-subtitle, .card-title, .card-text, .product-title, .product-description');
            texts.forEach(text => {
                text.style.opacity = '1';
                text.style.visibility = 'visible';
            });
        });

        // Simple scroll fix
        window.addEventListener('scroll', function() {
            const images = document.querySelectorAll('.product-image, .card-img-top, img');
            images.forEach(img => {
                img.style.opacity = '1';
                img.style.visibility = 'visible';
                img.style.display = 'block';
            });
            
            // Ensure text visibility during scroll
            const texts = document.querySelectorAll('.titulo, .lead, .hero-buttons, .section-title, .section-subtitle, .card-title, .card-text, .product-title, .product-description');
            texts.forEach(text => {
                text.style.opacity = '1';
                text.style.visibility = 'visible';
            });
        });

        // Force image visibility on page load
        window.addEventListener('load', function() {
            const images = document.querySelectorAll('img');
            images.forEach(img => {
                img.style.opacity = '1';
                img.style.visibility = 'visible';
                img.style.display = 'block';
            });
        });

        // Continuous image visibility check
        setInterval(function() {
            const images = document.querySelectorAll('img');
            images.forEach(img => {
                if (img.style.opacity !== '1' || img.style.visibility !== 'visible' || img.style.display !== 'block') {
                    img.style.opacity = '1';
                    img.style.visibility = 'visible';
                    img.style.display = 'block';
                }
            });
        }, 100);

        // WhatsApp Cart Button
        document.getElementById('whatsapp-cart').onclick = function() {
            let items = [];
            document.querySelectorAll('#cartItems .cart-item').forEach(item => {
                let name = item.querySelector('.cart-item-name')?.textContent || item.textContent;
                let price = item.querySelector('.cart-item-price')?.textContent || '';
                items.push(`- ${name} ${price}`.trim());
            });
            let total = document.getElementById('cartTotal').textContent;
            let mensaje = `Hola, quiero pedir:\n${items.join('\n')}\nTotal: ${total}`;
            let url = "https://wa.me/573024062449?text=" + encodeURIComponent(mensaje);
            window.open(url, "_blank");
        }

        // PDF Cart Button
        if(document.getElementById('pdf-cart')) {
    document.getElementById('pdf-cart').onclick = function() {
        const doc = new window.jspdf.jsPDF();
        // Encabezado dorado y marca
        doc.setFillColor(212, 175, 55); // dorado
        doc.rect(0, 0, 210, 25, 'F');
        doc.setTextColor(255, 255, 255);
        doc.setFontSize(22);
        doc.text("K'latee Joyería", 12, 18);
        // Logo de la marca
        fetch('marquita.png').then(r => r.blob()).then(blob => {
            const reader = new FileReader();
            reader.onload = () => {
                doc.addImage(reader.result, 'PNG', 170, 2, 30, 20);
                generarFacturaPDF(doc);
            };
            reader.readAsDataURL(blob);
        }).catch(() => {
            generarFacturaPDF(doc);
        });
        function generarFacturaPDF(doc) {
            doc.setTextColor(212, 175, 55);
            doc.setFontSize(14);
            doc.text('Pedido de Oro 18K', 12, 32);
            doc.setTextColor(0,0,0);
            doc.setFontSize(12);
            doc.text('WhatsApp: +57 3024062449', 12, 40);
            doc.setDrawColor(212, 175, 55);
            doc.line(12, 44, 190, 44);
            // Listado de productos en el carrito
            let items = [];
            let suma = 0;
            let prodY = 55;
            doc.setFontSize(15);
            doc.setTextColor(0,0,0);
            doc.text('Productos en el pedido:', 12, prodY);
            prodY += 8;
            document.querySelectorAll('#cartItems .cart-item').forEach((item, idx) => {
                let name = item.querySelector('.cart-item-name')?.textContent || item.textContent;
                let price = item.querySelector('.cart-item-price')?.textContent || '';
                let img = item.querySelector('img');
                items.push({name, price, img});
                let num = parseInt(price.replace(/[^\d]/g, ''));
                if(!isNaN(num)) suma += num;
            });
            // Renderizar imágenes y productos
            function renderProductos(i) {
                if(i >= items.length) {
                    // Suma de productos
                    doc.setFontSize(13);
                    doc.setTextColor(0,0,0);
                    doc.text('Suma de productos:', 12, prodY);
                    doc.setTextColor(212, 175, 55);
                    doc.text(`$${suma.toLocaleString()}`, 65, prodY);
                    // Total del pedido
                    let total = document.getElementById('cartTotal').textContent;
                    let totalY = prodY + 12;
                    doc.setFontSize(15);
                    doc.setTextColor(0,0,0);
                    doc.text('Total del pedido:', 12, totalY);
                    doc.setTextColor(212, 175, 55);
                    doc.text(total, 65, totalY);
                    doc.setDrawColor(212, 175, 55);
                    doc.line(12, totalY + 5, 190, totalY + 5);
                    doc.setFontSize(10);
                    doc.setTextColor(100,100,100);
                    doc.text('Envío gratis en Colombia • Oro certificado • Garantía de calidad', 12, totalY + 15);
                    doc.save('pedido-klatee.pdf');
                    alert('PDF descargado con todos los productos y total. Ahora puedes enviarlo por WhatsApp al +57 3024062449.');
                    return;
                }
                let item = items[i];
                if(item.img) {
                    // Tomar la imagen de la card y agregarla al PDF
                    window.html2canvas(item.img, {backgroundColor: null, scale: 2}).then(canvas => {
                        const imgData = canvas.toDataURL('image/jpeg', 1.0);
                        doc.addImage(imgData, 'JPEG', 12, prodY, 30, 30);
                        doc.setFontSize(13);
                        doc.setTextColor(212, 175, 55);
                        doc.text(item.name, 45, prodY + 10);
                        doc.setTextColor(0,0,0);
                        doc.text('Precio:', 45, prodY + 20);
                        doc.setTextColor(212, 175, 55);
                        doc.text(item.price, 65, prodY + 20);
                        prodY += 38;
                        renderProductos(i+1);
                    }).catch(() => {
                        // Si falla la imagen, mostrar solo texto
                        doc.setFontSize(13);
                        doc.setTextColor(212, 175, 55);
                        doc.text(item.name, 45, prodY + 10);
                        doc.setTextColor(0,0,0);
                        doc.text('Precio:', 45, prodY + 20);
                        doc.setTextColor(212, 175, 55);
                        doc.text(item.price, 65, prodY + 20);
                        prodY += 38;
                        renderProductos(i+1);
                    });
                } else {
                    // Si no hay imagen, mostrar solo texto
                    doc.setFontSize(13);
                    doc.setTextColor(212, 175, 55);
                    doc.text(item.name, 45, prodY + 10);
                    doc.setTextColor(0,0,0);
                    doc.text('Precio:', 45, prodY + 20);
                    doc.setTextColor(212, 175, 55);
                    doc.text(item.price, 65, prodY + 20);
                    prodY += 38;
                    renderProductos(i+1);
                }
            }
            renderProductos(0);
        }
    }
}
    </script>
  </body>
</html>
